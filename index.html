<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr·∫Øc Nghi·ªám Y Sinh - Cloud Mode</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="screen home-screen active">
            <h1>‚òÅÔ∏è Kho ƒê·ªÅ Thi V·∫≠t L√Ω Y Sinh</h1>
            
            <div class="library-section">
                <div class="library-header">
                    <h3>üìö ƒê·ªÅ thi ƒë√£ l∆∞u tr√™n Cloud</h3>
                    <span id="libraryCount" class="badge">ƒêang t·∫£i...</span>
                </div>
                <div id="quizList" class="quiz-grid">
                    <div class="loading-spinner"></div>
                </div>
            </div>

            <div class="create-section">
                <h3>üìù T·∫°o ƒë·ªÅ thi m·ªõi</h3>
                
                <div class="smart-paste-box">
                    <textarea id="smartPasteInput" placeholder="D√°n n·ªôi dung c√¢u h·ªèi v√†o ƒë√¢y...&#10;C√¢u 1: 1+1=?&#10;A. 3&#10;*B. 2"></textarea>
                    <button class="btn btn-primary" onclick="app.processSmartPaste()">‚ö° Ph√¢n t√≠ch nhanh</button>
                </div>

                <div class="file-upload-box" onclick="document.getElementById('fileInput').click()">
                    <input type="file" id="fileInput" accept=".json, .docx">
                    <p>üìÇ Ch·ªçn file Word (.docx) ho·∫∑c JSON</p>
                    <span id="fileName">Ch∆∞a ch·ªçn file</span>
                </div>
            </div>

            <div id="saveActionSection" class="save-action" style="display: none;">
                <span class="success-text">‚úÖ ƒê√£ t·∫£i xong b·ªô ƒë·ªÅ!</span>
                <div class="btn-group">
                    <button class="btn btn-warning" onclick="app.saveCurrentQuiz()">üíæ L∆∞u l√™n Cloud</button>
                    <button class="btn btn-primary" onclick="app.startQuizNow()">üöÄ L√†m ngay (Kh√¥ng l∆∞u)</button>
                </div>
            </div>

            <div class="settings-box">
                <div class="setting-item">
                    <label>‚è±Ô∏è Th·ªùi gian (ph√∫t):</label>
                    <input type="number" id="timeLimit" value="30" min="1">
                </div>
                <div class="setting-item">
                    <label>üîÄ Tr·ªôn c√¢u h·ªèi</label>
                    <input type="checkbox" id="shuffleToggle">
                </div>
            </div>

            <button class="btn btn-lg btn-start" id="startBtn" disabled onclick="app.startQuiz()">B·∫ÆT ƒê·∫¶U L√ÄM B√ÄI</button>
        </div>

        <div class="screen quiz-screen">
            <div class="quiz-header">
                <div class="timer">‚è≥ <span id="timerDisplay">00:00</span></div>
                <div class="progress-info">C√¢u <span id="currentQ">1</span>/<span id="totalQ">10</span></div>
            </div>
            
            <div class="progress-bar"><div id="progressBarFill"></div></div>

            <div class="question-box">
                <div class="q-content" id="questionText"></div>
                <div class="answers-grid" id="answersContainer"></div>
            </div>

            <div class="quiz-footer">
                <button class="btn" onclick="app.prevQuestion()">Quay l·∫°i</button>
                
                <details class="nav-details">
                    <summary>üó∫Ô∏è</summary>
                    <div id="questionNav" class="nav-grid"></div>
                </details>

                <button class="btn" id="nextBtn" onclick="app.nextQuestion()">Ti·∫øp theo</button>
                <button class="btn btn-danger" id="submitBtn" style="display:none" onclick="app.submitQuiz()">N·ªôp b√†i</button>
            </div>
        </div>

        <div class="screen result-screen">
            <h2>üéâ K·∫øt Qu·∫£</h2>
            <div class="score-circle">
                <span id="scorePoint">0</span>
                <small>ƒëi·ªÉm</small>
            </div>
            
            <div class="stats-grid">
                <div class="stat-box correct">‚úÖ ƒê√∫ng: <span id="correctCount">0</span></div>
                <div class="stat-box wrong">‚ùå Sai: <span id="wrongCount">0</span></div>
            </div>

            <div class="action-buttons">
                <button class="btn" onclick="app.reviewMode()">üîç Xem l·∫°i b√†i</button>
                <button class="btn" onclick="app.goHome()">üè† V·ªÅ trang ch·ªß</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <script src="script.js"></script>
</body>
</html>

